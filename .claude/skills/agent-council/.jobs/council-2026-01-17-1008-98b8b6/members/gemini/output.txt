I will start by checking the `Voice-sync prompter` directory to see if there is any existing code or context.
영상촬영용 음성 인식 프롬프터 개발에 대한 제안입니다. 사용자의 환경(macOS)과 최신 웹 기술 트렌드를 반영하여 조언해 드립니다.

### 1. 추천 기술 스택 및 아키텍처 (Electron + React)

데스크톱 애플리케이션(macOS, Windows 등)으로 배포하기 쉽고, 풍부한 UI 라이브러리를 활용할 수 있는 스택을 추천합니다.

*   **프레임워크:** **Electron** (데스크톱 껍데기) + **React** (UI) + **TypeScript** (안정성)
    *   이유: 웹 기술을 사용하여 빠른 개발이 가능하며, 오프라인 지원 및 마이크 등 시스템 리소스 접근이 용이합니다.
*   **스타일링:** **Tailwind CSS** + **shadcn/ui**
    *   이유: 현대적이고 깔끔한 UI를 빠르게 구축할 수 있으며, 다크 모드(프롬프터 필수) 구현이 쉽습니다.
*   **음성 인식 엔진 (STT):**
    *   **초기 단계 (MVP):** **Web Speech API** (브라우저 내장). 무료이며 별도 설치 없이 바로 사용 가능합니다.
    *   **고급 단계:** **OpenAI Whisper (Local)**. Python 백엔드나 WASM을 통해 로컬에서 구동하면 인터넷 없이도 매우 높은 정확도와 개인정보 보호를 제공할 수 있습니다.
*   **상태 관리:** **Zustand** 또는 **Recoil** (스크롤 위치, 대본 데이터, 음성 인식 상태 관리).

### 2. 음성 인식 및 텍스트 매칭 알고리즘

단순히 텍스트가 같은지 비교하는 것으로는 부족하며, 인식 오류나 화자의 애드리브를 처리해야 합니다.

*   **Fuzzy Matching (유사도 매칭):**
    *   인식된 텍스트와 대본이 100% 일치하지 않을 수 있습니다 (예: "안녕하세요" -> "안녕 하세요").
    *   **Levenshtein Distance**나 **Diff-Match-Patch** 라이브러리를 사용하여 '가장 유사한 문장'의 위치를 찾습니다.
*   **윈도우 슬라이딩 (Window Sliding):**
    *   대본 전체를 매번 검색하면 성능이 떨어지고 오탐(뒤에 나오는 같은 단어로 점프)이 발생합니다.
    *   현재 위치 기준 앞뒤 일정 범위(예: +/- 50단어) 내에서만 매칭을 시도하여 정확도를 높입니다.
*   **스무딩 (Smoothing):**
    *   인식될 때마다 화면이 확 튀지 않도록, 목표 스크롤 위치로 부드럽게 이동하는 보간(Interpolation) 로직이 필요합니다.

### 3. UI/UX 고려사항

프롬프터는 촬영 현장에서 '도구'로서 신뢰성을 주어야 합니다.

*   **가독성 최우선:** 기본적으로 **검은 배경에 흰 글씨**(고대비)를 사용합니다. 폰트 크기, 줄 간격 조절 기능은 필수입니다.
*   **미러링 모드 (Mirrored Mode):** 전문 프롬프터 하드웨어(반사유리) 사용자를 위해 화면을 좌우 반전하는 기능이 필요합니다.
*   **현재 위치 표시:** 화자가 읽고 있는 부분을 놓치지 않도록 현재 인식된 줄을 하이라이트하거나 화면 중앙에 고정(Center Lock)하는 옵션이 필요합니다.
*   **수동 오버라이드:** 인식이 실패하거나 화자가 멈출 때를 대비해, 키보드 방향키나 마우스 휠로 즉시 개입하여 스크롤을 조절할 수 있어야 합니다.

### 4. 잠재적 기술적 도전과 해결책

1.  **인식 레이턴시 (지연):**
    *   *문제:* 말이 끝난 뒤 1~2초 뒤에 스크롤이 움직이면 화자가 당황합니다.
    *   *해결:* `interimResults` (중간 인식 결과)를 적극 활용하여, 문장이 완성되기 전이라도 실시간으로 부분 매칭을 시도해 스크롤을 미리 움직입니다.
2.  **동음이의어 및 발음 오류:**
    *   *문제:* 대본과 다르게 인식되는 경우.
    *   *해결:* 발음 기반 매칭(Phonetic Matching)을 고려하거나, 연속된 3~4단어의 시퀀스가 일치할 때만 스크롤을 이동시키는 '단어 뭉치(N-gram)' 매칭 방식을 사용합니다.
3.  **애드리브 (대본 이탈):**
    *   *문제:* 화자가 대본에 없는 말을 길게 할 때 스크롤이 엉뚱한 곳으로 튈 수 있음.
    *   *해결:* 매칭 신뢰도가 낮으면 스크롤을 일시 정지하고, 다시 대본과 일치하는 문장이 나올 때까지 대기하는 로직을 구현합니다.

**다음 단계 제안:**
이 프로젝트를 시작하시려면 기본 Electron + React 프로젝트 구조를 세팅해 드릴 수 있습니다. 원하시면 말씀해 주세요.
